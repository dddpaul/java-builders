# java-builders

Examine Java objects build variants.

### Telescopic constructor

Telescopic constructor [NutritionFacts.java](src/main/java/a_telescopic_constructor/NutritionFacts.java) example.

Pros:
* simple.

Cons:
* poor scalability.

### JavaBeans

JavaBeans [NutritionFacts.java](src/main/java/b_javabeans/NutritionFacts.java) example.

Pros:
* simple;
* scales well.

Cons:
* too much boilerplate in usage;
* inconsistency and mutability are permitted.

### Builder

Builder [NutritionFacts.java](src/main/java/c_builder/NutritionFacts.java) example.

Pros:
* simple usage;
* built instances are immutable and consistent.

Cons:
* too much boilerplate in class definition.

### Elegant builder

Elegant builder [NutritionFacts.java](src/main/java/d_elegant_builder/NutritionFacts.java) example.

Pros:
* class definition is shorter than in classic builder pattern.

Cons:
* builder methods change existing instance, so the same builder can't be reused;
* properties are non-final, so object is mutable, see [Is this a safe publication of object?](http://stackoverflow.com/a/10301179/981083)
 
### IDEA InnerBuilder

IDEA InnerBuilder [NutritionFacts.java](src/main/java/e_idea_innerbuilder/NutritionFacts.java) example.

Pros:
* fields only have to be specified, all of the methods can be generated by IDEA.

Cons:
* you have to use [IDEA plugin](https://github.com/analytically/innerbuilder);
* all of the boilerplate resides in source control system still.

### Google AutoValue

Google AutoValue [NutritionFacts.java](src/main/java/f_auto_value/NutritionFacts.java) example.

Pros:
* much more less boilerplate;
* automatic equals(), hasCode() and toString() methods generation.

Cons:
* it's a code generation nevertheless, so it requires something like "mvn compile" before using
* builder support is experimental (you must use latest version from GitHub).
 
### Project Lombok Builder

Project Lombok Builder [NutritionFacts.java](src/main/java/g_lombok/NutritionFacts.java) example.

Pros:
* shortest declaration.

Cons:
* it's an [AST manipulation](http://notatube.blogspot.ru/2010/11/project-lombok-trick-explained.html) i.e. the real magic :)
* plugin for IDE is required.

### POJO Builder
 
POJO Builder [NutritionFacts.java](src/main/java/h_pojo_builder/NutritionFacts.java) example.

Pros:
* can be used in conjunction with AutoValue or Lombok;
* is recommended by [Umputun](http://www.umputun.com/) :)

Cons:
* can't generate getters and setters;
* it's a code generation nevertheless, so it requires something like "mvn compile" before using.

### Immutables

Immutables [NutritionFacts.java](src/main/java/immutables/NutritionFacts.java) example.

Pros:
* boilerplate is gone completely;
* automatic equals(), hasCode() and toString() methods generation;
* automatic withXXX() methods generation;
* uses Java 8 features (Optional etc.)

Cons:
* it's a code generation nevertheless, so it requires something like "mvn compile" before using.

### Links

* [Использование паттерна Builder в случае, когда мы сталкиваемся с конструктором с многими параметрами](http://habrahabr.ru/post/86252/)
* [Элегантный Builder на Java](http://habrahabr.ru/post/244521/)
* [IntelliJ IDEA plugin which generates an inner builder class](https://github.com/analytically/innerbuilder)
* [Google AutoValue](https://github.com/google/auto/tree/master/value), [Immutable Value Objects in Java with Google AutoValue](http://labs.encoded.io/2015/01/25/immutable-value-objects-in-java-with-google-autovalue/)
* [Project Lombok Builder](http://projectlombok.org/features/Builder.html)
* [POJO Builder](https://github.com/mkarneim/pojobuilder)
* [Immutables.org](http://immutables.github.io/), [JSON serialization](http://immutables.github.io/json.html)